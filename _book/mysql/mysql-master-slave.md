#### 2.主从复制

#### 一、为什么要主从复制

	- 单点故障，压力大奔溃
	- 服务器磁盘损坏
	- 主从格式，一主多从，双主双从

三、主从复制原理

- 当master主服务器上的数据发生改变时，则将其改变写入二进制事件日志文件中
- slave从服务器会在一定时间间隔内对master主服务器上的二进制日志文件进行探测，探测其是否发生过改变，如果探测到master主服务器的日志文件发生改变，则开始一个I/O  Thread 请求 master二进制事件日志
- 同时master主服务器为每个I/O Thread 启动一个dump Thread， 用于想起发送二进制事件日志
- slave 从服务器将接收到的二进制日志文件保存至自己本地的中继日志文件中
- slave 从服务器将启动SQL Thread 从中继日志中读取二进制日志，在本地播放，使得其数据和主服务器保持一致
- 最后I/O Thread 和SQL Thread 将进入睡眠状态，等待下一次被唤醒

